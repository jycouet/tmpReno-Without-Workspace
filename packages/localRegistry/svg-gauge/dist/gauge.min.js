!function(e,t){var n=t(e);"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:e.Gauge=n}("undefined"==typeof window?this:window,function(e,t){function n(e){function t(){var e=a/r,n=l*f(e)+o;s(n,a),a+=1,e<1&&i(t)}var n=e.duration,a=1,r=60*n,o=e.start||0,u=e.end,l=u-o,s=e.step,f=e.easing||function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};i(t)}var a=e.document,r=Array.prototype.slice,i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=function(){function e(){var e=arguments[0],t=r.call(arguments,1);return t.forEach(function(t){for(k in t)t.hasOwnProperty(k)&&(e[k]=t[k])}),e}function t(e,t,n){var r=a.createElementNS(f,e);for(var i in t)r.setAttribute(i,t[i]);return n&&n.forEach(function(e){r.appendChild(e)}),r}function i(e,t){return e*t/100}function o(e,t){var n=Number(e);return n>t?t:n<0?0:n}function u(e,t){return 100*e/t}function l(e,t,n,a){var r=a*Math.PI/180;return{x:Math.round(1e3*(e+n*Math.cos(r)))/1e3,y:Math.round(1e3*(t+n*Math.sin(r)))/1e3}}function s(e,t,n){var a=d.centerX,r=d.centerY;return{end:l(a,r,e,n),start:l(a,r,e,t)}}var f="http://www.w3.org/2000/svg",d={centerX:50,centerY:50},c={dialRadius:40,dialStartAngle:135,dialEndAngle:45,value:0,max:100,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",showValue:!0,gaugeColor:null,label:function(e){return Math.round(e)}};return function(a,r){function l(e,t,n,a){var r=s(e,t,n),i=r.start,o=r.end,u="undefined"==typeof a?1:a;return["M",i.x,i.y,"A",e,e,0,u,1,o.x,o.y].join(" ")}function f(e){v=t("text",{x:50,y:50,fill:"#999","class":M,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle"}),m=t("path",{"class":k,fill:"none",stroke:"#666","stroke-width":2.5,d:l(A,y,y)});var n=i(100,360-Math.abs(y-C)),a=n<=180?0:1,r=t("svg",{viewBox:"0 0 100 100","class":R},[t("path",{"class":b,fill:"none",stroke:"#eee","stroke-width":2,d:l(A,y,C,a)}),v,m]);e.appendChild(r)}function d(e,t){var n=u(e,p),a=i(n,360-Math.abs(y-C)),o=a<=180?0:1;x&&(v.textContent=E.call(r,e)),m.setAttribute("d",l(A,y,a+y,o))}r=e({},c,r);var v,m,h,g=a,p=r.max,w=o(r.value,p),A=r.dialRadius,x=r.showValue,y=r.dialStartAngle,C=r.dialEndAngle,k=r.valueDialClass,M=r.valueClass,b=(r.valueLabelClass,r.dialClass),R=r.gaugeClass,V=r.color,E=r.label;if(y<C){console.log("WARN! startAngle < endAngle, Swapping");var j=y;y=C,C=j}return h={setMaxValue:function(e){p=e},setValue:function(e){w=o(e,p),d(w)},setValueAnimated:function(e,t){var a=w;if(w=o(e,p),a!==w){if(V){var r=V(w),i=1e3*t,u="stroke "+i+"ms ease";m.style=["stroke: "+r,"-webkit-transition: "+u,"-moz-transition: "+u,"transition: "+u].join(";"),v.style=["fill: "+r].join(";")}n({start:a||0,end:w,duration:t||1,step:function(e,t){d(e,t)}})}},getValue:function(){return w}},f(g),d(w),h}}();return o});